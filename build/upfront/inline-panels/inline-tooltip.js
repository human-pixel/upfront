!function(t){define([],function(){t.fn.utooltip=function(o){this.each(function(n,i){var p,s=o.panel;p=o.fromTitle===!0?t(i).attr("title"):o.content,tooltip=new e({element:t(i),content:p,panel:s,wrapper:!1})})};var e=Backbone.View.extend({className:"upfront-inline-tooltip",initialize:function(e){var o=t(e.element).find(".upfront-icon"),n=this;this.options=e,"undefined"!=typeof this.options.wrapper&&this.options.wrapper===!1&&(o=t(e.element)),"undefined"==typeof this.options.panel||"side"!==this.options.panel&&"normal"!==this.options.panel||(o=t(e.element).find("label")),o.on("mouseenter",function(t){n.openTooltip(t,e.content)}).on("mouseleave",function(t){n.closeTooltip()}),this.listenTo(Upfront.Events,"tooltip:close",this.closeTooltip)},openTooltip:function(e,o){var n=t("#upfront-inline-tooltip"),i=t(e.currentTarget).closest(".upfront-inline-panel"),p=this;"undefined"!=typeof this.options.panel&&"tooltip"===this.options.panel&&(i=t(e.currentTarget).closest(".image-sub-control")),"undefined"!=typeof this.options.panel&&"postslist"===this.options.panel&&(i=t(e.currentTarget).closest(".upfront-wrapper")),"undefined"!=typeof this.options.panel&&"redactor"===this.options.panel&&(i=t(e.currentTarget).closest(".redactor_air"));var s,l;"undefined"!=typeof this.options.panel&&"side"===this.options.panel?(i=t(e.currentTarget).closest("li"),s=i.offset(),l={top:s.top+4,left:s.left+i.outerWidth()+5}):"undefined"!=typeof this.options.panel&&"postslist"===this.options.panel?(i=t(e.currentTarget).closest(".upfront-wrapper"),s=i.offset(),l={top:s.top-21,left:s.left,zIndex:100010059}):"undefined"!=typeof this.options.panel&&"postEditor"===this.options.panel?(i=t(e.currentTarget).closest(".upfront-editactions"),s=i.offset(),l={top:s.top-21,left:s.left,zIndex:100010059}):"undefined"!=typeof this.options.panel&&"colorPicker"===this.options.panel?(i=t(e.currentTarget).closest(".uf-color-picker-wrapper"),s=i.offset(),l={top:s.top-24,left:s.left+1}):(i.length||(i=t(e.currentTarget).closest(".redactor_air")),s=i.offset(),l={top:s.top-i.outerHeight()+7,left:s.left}),n.length||(n=t('<div id="upfront-inline-tooltip" class="upfront-ui"></div>'),t("body").append(n)),n.hide().html(o),n.css(l).show().on("click",function(t){t.stopPropagation()}).on("closed",function(t){p.$el.removeClass("tooltip-open")}),this.$el.addClass("tooltip-open")},closeTooltip:function(){var e=t("#upfront-inline-tooltip");e.hide().trigger("closed")}});return e})}(jQuery);