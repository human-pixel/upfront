(function(e){define(["scripts/upfront/inline-panels/controls/link-panel"],function(t){var n=Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.views:Upfront.mainData.l10n.global.views,r=t.extend({className:"upfront-inline-panel-item group-link-control",initialize:function(e){var t=this;this.options=e||{},this.constructor.__super__.constructor.__super__.initialize.call(this,e),this.icon=this.options.icon,this.tooltip=this.options.tooltip,this.id=this.options.id,this.view=new Upfront.Views.Editor.LinkPanel({linkUrl:this.options.linkUrl,linkType:this.options.linkType,linkTarget:this.options.linkTarget,linkObject:this.options.linkObject,linkObjectId:this.options.linkObjectId,button:!1,title:n.link_group_to}),this.linkUrl=this.options.linkUrl,this.listenTo(this.view,"change change:target change:type",function(e){t.linkUrl=e.url,t.render_label(),this.trigger("change",e)})},label:function(){return Upfront.Util.guessLinkType(this.linkUrl)!="unlink"?n.edit_link:n.not_linked},onClickControl:function(t){this.$el.siblings(".upfront-control-dialog-open").removeClass("upfront-control-dialog-open");if(e(t.target).closest(".inline-panel-control-dialog").length)return;t.preventDefault(),this.isopen?this.close():this.open()}});return r})})(jQuery);