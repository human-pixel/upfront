(function(e){define(["scripts/upfront/inline-panels/item","scripts/upfront/inline-panels/control"],function(t,n){var r=n.extend({events:{click:"onClickControl","click .upfront-inline-panel-item":"selectItem"},onClickControl:function(e){var t=this.$el.closest(".upfront-grid-layout"),n=this.$el.closest(".upfront-wrapper");e.preventDefault(),this.clicked(e),this.$el.hasClass("open")?(this.$el.removeClass("open"),t.removeClass("upfront-grid-layout-current"),n.removeClass("upfront-wrapper-current")):(this.$el.addClass("open"),t.addClass("upfront-grid-layout-current"),n.addClass("upfront-wrapper-current"))},render:function(){t.prototype.render.call(this,arguments);var n=this.$(".uimage-control-tooltip"),r=this,i;this.$el.hasClass("uimage-control-tooltip-item")||this.$el.addClass("uimage-control-tooltip-item"),n.length||(n=e('<div class="uimage-control-tooltip"></div>'),this.$el.append(n)),_.each(this.sub_items,function(e,t){t===r.selected?e.setIsSelected(!0):e.setIsSelected(!1),e.render(),n.append(e.$el)}),i=this.sub_items[this.selected],i&&(typeof i.icon!="undefined"?this.$el.children("i").addClass("upfront-icon-region-"+i.icon):typeof i.label!="undefined"&&this.$el.find(".tooltip-content").append(": "+i.label))},get_selected_item:function(){return this.selected},selectItem:function(t){var n=!1,r=e(t.target).is("i")?e(t.target):e(t.target).find("i");_.each(this.sub_items,function(i,s){r.hasClass("upfront-icon-region-"+i.icon)&&(n=s),!n&&e(t.target).closest(".upfront-inline-panel-item").attr("id")===i.id&&(n=s)}),n&&(this.selected=n,this.render(),this.trigger("select",n))}});return r})})(jQuery);