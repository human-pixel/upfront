define(["scripts/upfront/preset-settings/preset-css-editor"],function(e){var t=Upfront.Views.Editor.Settings.Item.extend({className:"upfront-settings-css",events:{"click input[name=preset_css]":"openEditor"},initialize:function(e){var t=this;Upfront.Views.Editor.Settings.Item.prototype.initialize.call(this,e),this.fields=_([new Upfront.Views.Editor.Field.Button({model:t.model,className:"edit_preset_css",compact:!0,name:"preset_css",label:"Edit Preset CSS"})])},onPresetUpdate:function(e){this.trigger("upfront:presets:update",e)},openEditor:function(t){t.preventDefault(),Upfront.Events.trigger("entity:settings:beforedeactivate");var n=Upfront.Application.cssEditor.getElementType(this.model),r=n.label.toLowerCase()+"-preset-"+this.options.preset.get("id");this.presetCSSEditor=new e({model:this.model,preset:this.options.preset,stylename:r}),this.listenTo(this.presetCSSEditor,"upfront:presets:update",this.onPresetUpdate),Upfront.Events.trigger("entity:settings:deactivate")}});return t});