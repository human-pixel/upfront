define(["scripts/upfront/settings/modules/base-module","scripts/upfront/preset-settings/preset-css-editor"],function(e,t){var n=Upfront.Settings.l10n.preset_manager,r=e.extend({className:"upfront-settings-css",events:{"click input[name=preset_css]":"openEditor"},initialize:function(t){var r=this;e.prototype.initialize.call(this,t),this.fields=_([new Upfront.Views.Editor.Field.Button({model:r.model,className:"edit_preset_css",compact:!0,name:"preset_css",label:n.edit_preset_css})])},onPresetUpdate:function(e){this.trigger("upfront:presets:update",e)},openEditor:function(e){e.preventDefault(),Upfront.Events.trigger("entity:settings:beforedeactivate");var n=Upfront.Application.cssEditor.getElementType(this.model),r=n.label.toLowerCase()+"-preset-"+this.options.preset.get("id");this.presetCSSEditor=new t({model:this.model,preset:this.options.preset,stylename:r}),this.listenTo(this.presetCSSEditor,"upfront:presets:update",this.onPresetUpdate),Upfront.Events.trigger("entity:settings:deactivate")}});return r});