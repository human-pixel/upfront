define(["scripts/upfront/settings/modules/base-module","scripts/upfront/settings/fields/select-preset"],function(e,t){var n=Upfront.Settings.l10n.preset_manager,r=e.extend({initialize:function(e){this.options=e||{},this.group=!1;var r=this;this.selectPresetField=new t({model:this.model,label:n.select_preset_label,property:"preset",values:this.get_presets(),change:function(e){r.model.set_property("preset",this.get_value())}}),this.fields=_([this.selectPresetField]),this.listenTo(this.selectPresetField,"upfront:presets:new",this.createPreset),this.listenTo(this.selectPresetField,"changed",this.changePreset)},changePreset:function(){this.trigger("upfront:presets:change",this.selectPresetField.get_value())},createPreset:function(e){this.trigger("upfront:presets:new",e)},get_title:function(){return n.select_preset},get_presets:function(){return _.map(this.options.presets.models,function(e){return"undefined"==typeof e.get("name")?{label:e.get("id"),value:e.get("id")}:{label:e.get("name"),value:e.get("id")}})}});return r});