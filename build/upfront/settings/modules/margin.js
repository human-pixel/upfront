define(["scripts/upfront/settings/modules/base-module"],function(e){var i=Upfront.Settings.l10n.preset_manager,n=e.extend({className:"margin-settings sidebar-settings clearfix",initialize:function(e){this.options=e||{};var n=this;Upfront.Settings.LayoutEditor.Grid.column_margin;this.fields=_([new Upfront.Views.Editor.Field.Checkboxes({model:this.model,className:"use-margin checkbox-title",use_breakpoint_property:!0,name:n.options.fields.use,label:"",multiple:!1,values:[{label:i.margin,value:"yes"}],change:function(e){n.model.set(n.options.fields.use,e)},show:function(e,i){var o=i.closest(".upfront-settings-item-content"),t=n.model.get("lock_margin");"yes"==e?"yes"==t?(o.find(".margin-slider").show(),o.find(".margin-number").show()):(o.find(".margin-top").show(),o.find(".margin-bottom").show(),o.find(".margin-left").show(),o.find(".margin-right").show()):(o.find(".margin-top").hide(),o.find(".margin-bottom").hide(),o.find(".margin-left").hide(),o.find(".margin-right").hide(),o.find(".margin-slider").hide(),o.find(".margin-number").hide())}}),lock_margin=new Upfront.Views.Editor.Field.Checkboxes({model:this.model,className:"margin-lock",name:n.options.fields.lock,label:"",default_value:0,multiple:!1,values:[{label:"",value:"yes"}],show:function(e){var i=n.$el,o=n.model.get(n.options.fields.use),t=n.model.get(n.options.fields.margin_number);"yes"==e&&"yes"==o?(i.find(".margin-slider").show(),i.find(".margin-number").show(),i.find(".margin-top").hide(),i.find(".margin-bottom").hide(),i.find(".margin-left").hide(),i.find(".margin-right").hide(),n.model.set(n.options.fields.left_num,t),n.model.set(n.options.fields.top_num,t),n.model.set(n.options.fields.right_num,t),n.model.set(n.options.fields.bottom_num,t),margin_left.get_field().val(t),margin_top.get_field().val(t),margin_right.get_field().val(t),margin_bottom.get_field().val(t)):"yes"==o&&(i.find(".margin-slider").hide(),i.find(".margin-number").hide(),i.find(".margin-top").show(),i.find(".margin-bottom").show(),i.find(".margin-left").show(),i.find(".margin-right").show())},change:function(e){n.model.set(n.options.fields.lock,e)}}),locked_slider=new Upfront.Views.Editor.Field.Slider({className:"margin-slider upfront-field-wrap",model:this.model,name:n.options.fields.slider,suffix:i.px,step:5,min:0,max:250,change:function(e){n.model.set(n.options.fields.slider,e),n.model.set(n.options.fields.margin_number,e,!0),n.model.set(n.options.fields.left_num,e,!0),n.model.set(n.options.fields.top_num,e,!0),n.model.set(n.options.fields.right_num,e,!0),n.model.set(n.options.fields.bottom_num,e,!0),locked_num.get_field().val(e),margin_left.get_field().val(e),margin_top.get_field().val(e),margin_right.get_field().val(e),margin_bottom.get_field().val(e),n.enable_lock_margin()},show:function(){var e=n.model.get(n.options.fields.margin_number);e>250?n.$el.find(".margin-slider").css("opacity",.6):n.$el.find(".margin-slider").css("opacity",1)}}),locked_num=new Upfront.Views.Editor.Field.Number({className:"margin-number",model:this.model,name:n.options.fields.margin_number,label:"",step:5,min:0,change:function(e){n.model.set(n.options.fields.slider,e),n.model.set(n.options.fields.margin_number,e,!0),locked_slider.$el.find("#"+locked_slider.get_field_id()).slider("value",e),n.model.set(n.options.fields.left_num,e,!0),n.model.set(n.options.fields.top_num,e,!0),n.model.set(n.options.fields.right_num,e,!0),n.model.set(n.options.fields.bottom_num,e,!0),margin_left.get_field().val(e),margin_top.get_field().val(e),margin_right.get_field().val(e),margin_bottom.get_field().val(e),n.enable_lock_margin(),e>250?n.$el.find(".margin-slider").css("opacity",.6):n.$el.find(".margin-slider").css("opacity",1)}}),margin_top=new Upfront.Views.Editor.Field.Number({model:this.model,className:"margin-top",name:n.options.fields.top_num,label:"",step:5,min:0,change:function(e){n.model.set(n.options.fields.top_num,e)},focus:function(){n.$el.find(".margin-bottom label").css("border-top","3px solid #7bebc6")},blur:function(){n.$el.find(".margin-bottom label").css("border","1px dotted #7d99b3")}}),margin_left=new Upfront.Views.Editor.Field.Number({model:this.model,className:"margin-left",name:n.options.fields.left_num,label:"",step:5,min:0,change:function(e){n.model.set(n.options.fields.left_num,e)},focus:function(){n.$el.find(".margin-bottom label").css("border-left","3px solid #7bebc6")},blur:function(){n.$el.find(".margin-bottom label").css("border","1px dotted #7d99b3")}}),margin_right=new Upfront.Views.Editor.Field.Number({model:this.model,className:"margin-right",name:n.options.fields.right_num,label:"",step:5,min:0,change:function(e){n.model.set(n.options.fields.right_num,e)},focus:function(){n.$el.find(".margin-bottom label").css("border-right","3px solid #7bebc6")},blur:function(){n.$el.find(".margin-bottom label").css("border","1px dotted #7d99b3")}}),margin_bottom=new Upfront.Views.Editor.Field.Number({model:this.model,className:"margin-bottom",name:n.options.fields.bottom_num,label:"",step:5,min:0,change:function(e){n.model.set(n.options.fields.bottom_num,e)},focus:function(){n.$el.find(".margin-bottom label").css("border-bottom","3px solid #7bebc6")},blur:function(){n.$el.find(".margin-bottom label").css("border","1px dotted #7d99b3")}})])}});return n});