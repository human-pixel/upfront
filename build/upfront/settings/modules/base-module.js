(function(e){define([],function(){var e=Backbone.View.extend({initialize:function(e){var t=this;t.options=e,this.fields=e.fields?_(e.fields):_([]),this.on("panel:set",function(){t.fields.each(function(e){e.panel=t.panel,e.trigger("panel:set")})}),this.listenForCssOverrides()},render:function(){this.$el.html(""),this.options.title&&this.options.toggle!==!0&&this.$el.append('<div class="upfront-settings-item-title">'+this.options.title+"</div>"),this.$el.append('<div class="upfront-settings-item-content"></div>');var e=this.$el.find(".upfront-settings-item-content");this.fields.each(function(t){t.render(),t.delegateEvents(),e.append(t.el)}),this.isCssOverridden()&&this.showOverriddenOverlay(),this.$el.css("position","relative"),this.trigger("rendered")},listenForCssOverrides:function(){var e=this.options.elementView,t=this.options.selectorsForCssCheck;if(typeof e=="undefined"||typeof t=="undefined")return;this.listenTo(this.model,"change",function(){this.isCssOverridden()?this.showOverriddenOverlay():this.hideOverriddenOverlay()})},isCssOverridden:function(){return!1},showOverriddenOverlay:function(){if(this.$el.find(".overridden-overlay").length>0)return;this.$el.append('<p class="overridden-overlay" style="position:absolute; top:0; bottom:0; left:0;right:0; background: rgba(0,0,0,0.5);color: white;">CSS is overridden</p>')},hideOverriddenOverlay:function(){this.$el.find(".overridden-overlay").remove()},save_fields:function(){var e=_([]);this.fields.each(function(t,n,r){if(t.property){var i=t.get_value(),s=t.get_saved_value();!t.multiple&&i!=s?e.push(t):t.multiple&&(i.length!=s.length||_.difference(i,s).length!==0)&&e.push(t)}}),e.each(function(e,t,n){e.use_breakpoint_property?e.model.set_breakpoint_property(e.property_name,e.get_value(),!0):e.property.set({value:e.get_value()},{silent:!0})}),e.size()>0&&(this.panel.is_changed=!0)},remove:function(){this.fields&&this.fields.each(function(e){e.remove()}),Backbone.View.prototype.remove.call(this)}});return e})})(jQuery);