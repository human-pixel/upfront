!function(t,n){var e=Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.views:Upfront.mainData.l10n.global.views;define(["scripts/upfront/upfront-views-editor/commands/command","scripts/upfront/upfront-views-editor/breakpoint/model","scripts/upfront/upfront-views-editor/breakpoint/storage"],function(o,i,p){return n.View.extend({tagName:"li",className:"upfornt-icon upfront-icon-add",id:"new-custom-breakpoint",events:{click:"add_breakpoint"},render:function(){this.$el.html(e.new_breakpoint)},initialize:function(t){this.collection=p.get_breakpoints()},add_breakpoint:function(n){n.preventDefault();var o,p=new Breakpoint_Model({id:this.collection.get_unique_id()});this.collection.add(p),p.set({enabled:!0}),p.set({active:!0}),o=Upfront.Popup.open(function(n,o,r){o.empty();var a=t(this),s=new i({model:p});a.append(s.render().el),r.append('<div class="breakpoint-edit-ok-button">'+e.ok+"</div>"),t("#upfront-popup-close").hide(),t(".breakpoint-edit-ok-button").on("click",function(){Upfront.Popup.close(),t("#upfront-popup-close").show()})},{width:400})}})})}(jQuery,Backbone);