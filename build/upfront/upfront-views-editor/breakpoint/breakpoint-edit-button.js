!function(t,e){var i=Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.views:Upfront.mainData.l10n.global.views;define(["scripts/upfront/upfront-views-editor/breakpoint/storage","scripts/upfront/upfront-views-editor/breakpoint/breakpoint-edit-panel"],function(n,o){return e.View.extend({className:"breakpoint-edit",events:{"click #edit-breakpoint":"edit_breakpoint"},initialize:function(t){this.options=t||{},this.collection=n.get_breakpoints(),this.listenTo(this.collection,"change:active",this.render)},render:function(){return this.$el.html(""),this.active_breakpoint=this.collection.get_active(),this.active_breakpoint.get("fixed")?this:(this.$el.html('<a href="" id="edit-breakpoint">'+i.edit_breakpoint+"</a>"),this)},edit_breakpoint:function(e){e.preventDefault();var n;n=Upfront.Popup.open(function(e,n,p){n.empty();var r=t(this),a=new o;r.append(a.render().el),p.append('<div class="breakpoint-edit-ok-button">'+i.ok+"</div>"),t("#upfront-popup-close").hide(),t(".breakpoint-edit-ok-button").on("click",function(){Upfront.Popup.close(),t("#upfront-popup-close").show()})},{width:400})}})})}(jQuery,Backbone);