!function(a,e){var r=Upfront.Settings&&Upfront.Settings.l10n?Upfront.Settings.l10n.global.views:Upfront.mainData.l10n.global.views;define([],function(){return e.View.extend({className:"sidebar-profile",render:function(){var a=Upfront.data.currentUser;a||(a=new e.Model);var t,i=a.get("data")||{},n=a.get("roles")||[];t='<div class="sidebar-profile-avatar"><img src="//www.gravatar.com/avatar/{{ gravatar ? gravatar : "gravatar" }}?s=25" /></div><div class="sidebar-profile-detail"><span class="sidebar-profile-name">{{name}}</span><span class="sidebar-profile-role">{{role}}</span></div>'+(n.length?'<div class="sidebar-profile-edit"><a class="upfront-icon upfront-icon-edit" data-bypass="true" title="'+r.edit_profile+'" href="{{edit_url}}">'+r.edit_profile+"</a></div>":""),this.$el.html(_.template(t,{gravatar:i.gravatar,name:i.display_name||r.anonymous,role:n[0]||r.none,edit_url:Upfront.Settings.admin_url+"profile.php"}))}})})}(jQuery,Backbone);