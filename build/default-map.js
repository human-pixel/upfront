(function(e){function t(e){var t=JSON.parse(e.attr("data-bg-map")),n={center:new google.maps.LatLng(t.center[0],t.center[1]),zoom:parseInt(t.zoom),mapTypeId:google.maps.MapTypeId[t.style],panControl:t.controls.indexOf("pan")>=0,zoomControl:t.controls.indexOf("zoom")>=0,mapTypeControl:t.controls.indexOf("map_type")>=0,scaleControl:t.controls.indexOf("scale")>=0,streetViewControl:t.controls.indexOf("street_view")>=0,overviewMapControl:t.controls.indexOf("overview_map")>=0,scrollwheel:!1,styles:t.styles},r=new google.maps.Map(e.get(0),n)}function n(){if(e(document).data("upfront-google_maps-loading"))return!1;e(document).data("upfront-google_maps-loading",!0);if(typeof google=="object"&&typeof google.maps=="object"&&typeof google.maps.Map=="object")return r();var t="",n=document.createElement("script");try{t=document.location.protocol}catch(i){t="http:"}n.type="text/javascript",n.src=t+"//maps.google.com/maps/api/js?v=3&libraries=places&sensor=false&callback=upfront_maps_loaded",document.body.appendChild(n)}function r(){e("[data-bg-map]").each(function(){t(e(this))})}e(document).on("upfront-google_maps-loaded",r),window.upfront_maps_loaded||(window.upfront_maps_loaded=window.upfront_maps_loaded||function(){e(document).trigger("upfront-google_maps-loaded"),e(document).data("upfront-google_maps-loading",!1)},e(n))})(jQuery);