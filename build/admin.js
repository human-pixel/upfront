(function(e){Upfront={post:function(t,n){return e.post(ajaxurl,t,function(){},n?n:"json")}},e(document).on("click","#upfront_reset_cache",function(t){t.preventDefault(),$this=e(this),$this.addClass("loading"),Upfront.post({action:"upfront_reset_cache"}).done(function(e){$this.removeClass("loading")}).fail(function(e){$this.removeClass("loading")})}),e(document).on("change",".upfront-layouts-list",function(t){$button=e("#upfront_reset_layout"),e(this).val()==="0"?$button.attr("disabled",!0):$button.attr("disabled",!1)}),e(document).on("click","#upfront_reset_layout",function(t){t.preventDefault();var n=e(this),r=e(".upfront-layouts-list"),i=r.val(),s=e(".upfront-layouts-list option[value='"+i+"']").html(),o=window.confirm(Upfront_Data.l10n.sure_to_reset_layout.replace("{layout}",s));if(o!==!0)return;n.addClass("loading"),Upfront.post({action:"upfront_reset_layout",layout:i}).done(function(e){n.removeClass("loading"),r.find("option").length===2&&(r.find("option[value="+i+"]").remove(),r.val(0),n.attr("disabled",!0))}).fail(function(e){n.removeClass("loading")})}),e(document).on("click","#upfront_reset_theme",function(t){t.preventDefault();var n=e(this),r=window.confirm(Upfront_Data.l10n.sure_to_reset_theme);if(r!==!0)return;n.addClass("loading"),Upfront.post({action:"upfront_reset_all_from_db"}).done(function(e){n.removeClass("loading")}).fail(function(e){n.removeClass("loading")})})})(jQuery);